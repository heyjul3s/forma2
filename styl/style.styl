@import 'base/all.styl'

.site-header
    text-align center

.container
    center(1200px)

    .inner
        center(600px)
        padding 0 20px

footer
    p
        text-align center

    a 
        color white

.forma
    width 100%
    margin 0 auto

    //GENERAL FORM STYLES
    label
        position absolute
        top calc(50% - 10px)
        left 0
        transition top 300ms ease-out

    input,
    textarea,
    button
        border none
        appearance none
        outline none
        color white

    input,
    textarea
        background-color transparent
        width 100%
        padding 15px 0

    button[type='submit']
        display block
        margin 0 auto
        background black
        min-width 200px
        padding 20px 25px

        +below(550px)
            min-width 100%

    input:focus + label
        top 0

    input:focus + label + .bottom-bar::after
        width 100%
        max-width 100%

    textarea:focus + label
        top 0

    .form-group
        position relative
        margin 45px 0
        padding 15px 0
        transition height 300ms ease-out

        .button-submit
            &:disabled
                background-color black

            &:not([disabled])
                background-color hotpink

        label
            .msg
                display block
                position relative
                padding-left 5px
                opacity 0
                visibility hidden
                transition transform 400ms ease-out, opacity 400ms ease-out, visibility 400ms ease-out, color 400ms ease-out
                transform translate(-100%, -100%)

                &.visible
                    opacity 1
                    visibility visible
                    transform translate(0, -100%)

        .hint
            display block
            position absolute
            margin 10px 0
            font-size .9em
            font-style italic

            opacity 0
            visibility hidden
            transition opacity 400ms ease-out, visibility 400ms ease-out, transform 400ms ease-out
            transform translateX(-30%)
            transition-delay 200ms

            &.visible
                opacity 1
                visibility visible
                transform translateX(0)

        .char-counter
            position absolute
            top calc(50% - 40px)
            right 0
            width 30px
            height 30px
            padding 8px 9px
            color white
            background-color transparent
            border-radius 50%
            font-size 12px

            transition-delay 150ms
            transition opacity 400ms ease-out, visibility 400ms ease-out, transform 400ms ease-out, background-color 400ms ease-out
            transform scale(0)
            visibility hidden
            opacity 0

            &.active
                visibility visible
                opacity 1
                transform scale(1)
                background-color purple

            &::before,
            &::after
                content ''
                display block
                position absolute
                width 30px
                height 30px

        .bottom-bar
            display block
            position relative
            width 100%
            height 2px
            background-color faded-black
            transition background 400ms ease-out

            &::after
                content ''
                display block
                width 0
                height 2px
                background-color purple
                transition width 400ms ease-out, max-width 400ms ease-out

        .input-icon
            display block
            position absolute
            top calc(50% - 40px)
            right 0
            width 30px
            height 30px
            background-color purple
            border-radius 50%

            transition opacity 400ms ease-out, visibility 400ms ease-out, transform 400ms ease-out, background-color 400ms ease-out, width 400ms ease-out, top 400ms ease-out, left 400ms ease-out
            opacity 0
            visibility hidden
            transform scale(0)

            &.visible
                opacity 1
                visibility visible
                transform scale(1)
                background-color red

            &::before,
            &::after
                content ''
                display block
                position absolute
                width 15px
                height 3px
                background-color white

            &::before
                top calc(50% - 2px)
                left calc(50% - 8px)
                transform rotate(45deg)

            &::after
                top calc(50% - 2px)
                left calc(50% - 8px)
                transform rotate(-45deg)


        //ERROR STATES
        &.error
            label
                top 0
                color white

                > .msg
                    color red

            .bottom-bar
                background-color red


        //SUCCESS STATES
        &.success
            label
                top 0

                > .msg.visible
                    opacity 0
                    visibility hidden
                    transform translateX(-30%)

            .bottom-bar
                background-color green

            .input-icon
                background-color green
                opacity 1
                visibility visible
                transform scale(1)

                &::before
                    top: calc(50% - 1px);
                    left: calc(50% - 5px);
                    transform rotate3d(0, 1, 1, 315deg)

                &::after
                    top: 48%;
                    left: 25%;
                    width: 8px;
                    transform rotate3d(0, 1, 1, -300deg)
